#!/bin/bash

originalfile=$1
outputfile=$2

if [ "$#" -lt 1 ]; then
    echo -e "Converts a binary to raw hexcode\n$0: </path/to/bin> [/path/to/output/file]"
    exit 0
fi

if [[ -z "$outputfile" ]]; then
    hexdump -C $originalfile | grep -v $(hexdump -C $originalfile | tail -n 1) | cut -d " " -f3-19 | sed 's/ //g' | tr -d '\n'
else
    hexdump -C $originalfile | grep -v $(hexdump -C $originalfile | tail -n 1) | cut -d " " -f3-19 | sed 's/ //g' | tr -d '\n' |tee $outputfile
fi

echo -e "\n"

